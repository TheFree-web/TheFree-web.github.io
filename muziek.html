<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Muziek | The Free</title>
<link rel="stylesheet" href="css/style.css">

<style>
.play-btn {
    background-color: #27ae60;
    color: #fff;
    border: none;
    padding: 12px 24px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
    margin: 5px;
}
.play-btn.playing {
    background-color: #e74c3c;
}
</style>
</head>

<body class="music">

<header>
    <div class="logo-text"><a href="index.html">The Free</a></div>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="muziek.html" class="active">Muziek</a></li>
            <li><a href="live.html">Live</a></li>
            <li><a href="over-ons.html">Over Ons</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>
    <div class="hamburger" id="hamburger">
        <span></span><span></span><span></span>
    </div>
</header>

<!-- HERO -->
<section class="hero-video">
    <video id="hero-video" muted loop playsinline preload="auto" style="width:100%; height:auto;">
        <source src="videos/hero.mp4" type="video/mp4">
        Je browser ondersteunt geen video.
    </video>

    <button id="sound-toggle" class="hero-sound-button">
        ðŸ”‡ Geluid uit
    </button>

    <div class="hero-overlay"></div>

    <div class="hero-content">
        <h1>Free</h1>
        <p class="highlight-red">Onze sound. Onze energie.</p>
    </div>
</section>

<!-- RELEASES -->
<section class="release">
    <h2>Laatste Release</h2>
    <div class="release-content">
        <img src="images/de-dag-is-de-nacht.webp" alt="De dag is de nacht">
        <div class="release-info">
            <h3>De dag is de nacht</h3>
            <p>Een introspectieve reis door donker en licht.</p>
            <button class="play-btn" data-src="audio/de_dag_is_de_nacht.mp3">
                PLAY / PAUZE
            </button>
        </div>
    </div>
</section>

<section class="release">
    <h2>Vorige Release</h2>
    <div class="release-content">
        <img src="images/free.webp" alt="Free">
        <div class="release-info">
            <h3>Free</h3>
            <p>Waarmee het allemaal begon. Onze sound.</p>
        </div>
    </div>
</section>

<footer>
    <p>Â© 2026 R&B. Met liefde in BelgiÃ« gemaakt.</p>
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {

    /* =============================
       BASIS UI
    ============================== */

    const hamburger = document.getElementById("hamburger");
    const navMenu = document.querySelector("nav ul");

    if (hamburger && navMenu) {
        hamburger.addEventListener("click", () => {
            navMenu.classList.toggle("active");
        });
    }

    const header = document.querySelector("header");

    if (header) {
        window.addEventListener("scroll", () => {
            header.classList.toggle("scrolled", window.scrollY > 50);
        });
    }

    /* =============================
       HERO (MUSIC PAGE SAFE)
    ============================== */

    const heroVideo  = document.getElementById("hero-video");
    const heroButton = document.getElementById("sound-toggle");

    if (heroVideo) {

        // Geen autoplay forceren
        heroVideo.pause();
        heroVideo.currentTime = 0;
        heroVideo.muted = true;

        const updateHeroButton = () => {
            if (!heroButton) return;

            if (heroVideo.muted) {
                heroButton.textContent = "ðŸ”‡ Geluid uit";
                heroButton.classList.remove("pulse");
            } else {
                heroButton.textContent = "ðŸ”Š Geluid aan";
                heroButton.classList.add("pulse");
            }
        };

        if (heroButton) {
            updateHeroButton();

            heroButton.addEventListener("click", () => {
                heroVideo.muted = !heroVideo.muted;

                if (!heroVideo.muted) {
                    heroVideo.play().catch(() => {});
                }

                updateHeroButton();
            });
        }
    }

    /* =============================
       MUZIEKPLAYER
    ============================== */

    const audioPlayer = new Audio();
    let currentButton = null;

    const buttons = document.querySelectorAll(".play-btn");

    buttons.forEach(btn => {

        btn.addEventListener("click", () => {

            const src = btn.dataset.src;
            if (!src) return;

            // Hero volledig stoppen bij muziek
            if (heroVideo) {
                heroVideo.pause();
                heroVideo.currentTime = 0;
                heroVideo.muted = true;
                if (heroButton) {
                    heroButton.textContent = "ðŸ”‡ Geluid uit";
                }
            }

            if (currentButton === btn) {
                audioPlayer.pause();
                btn.classList.remove("playing");
                currentButton = null;
                return;
            }

            if (currentButton) {
                currentButton.classList.remove("playing");
            }

            audioPlayer.src = src;
            audioPlayer.play().catch(() => {});
            btn.classList.add("playing");
            currentButton = btn;
        });

    });

    audioPlayer.addEventListener("ended", () => {
        if (currentButton) {
            currentButton.classList.remove("playing");
            currentButton = null;
        }
    });

});
</script>

</body>
</html>
